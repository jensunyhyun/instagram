!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).JsLog=r()}(this,function(){"use strict";var n=function(e,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])})(e,r)};var p=function(){return(p=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var i in r=arguments[n])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)};function e(e,s,a,u){return new(a=a||Promise)(function(n,r){function t(e){try{o(u.next(e))}catch(e){r(e)}}function i(e){try{o(u.throw(e))}catch(e){r(e)}}function o(e){var r;e.done?n(e.value):((r=e.value)instanceof a?r:new a(function(e){e(r)})).then(t,i)}o((u=u.apply(e,s||[])).next())})}function c(n,t){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:r(0),throw:r(1),return:r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&r[0]?o.return:r[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;switch(o=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){a.label=r[1];break}if(6===r[0]&&a.label<s[1]){a.label=s[1],s=r;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(r);break}s[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(n,a)}catch(e){r=[6,e],o=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,r,n){return e(n={path:r,exports:{},require:function(e,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==r&&n.path)}},n.exports),n.exports}var l,i,o,s,v=t(function(E,x){!function(i,d){var f="function",e="model",r="name",n="type",t="vendor",o="version",s="architecture",a="console",u="mobile",c="tablet",l="smarttv",p="wearable",m={extend:function(e,r){var n={};for(var t in e)r[t]&&r[t].length%2==0?n[t]=r[t].concat(e[t]):n[t]=e[t];return n},has:function(e,r){return"string"==typeof e&&-1!==r.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:d},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(e,r){for(var n,t,i,o,s,a=0;a<r.length&&!o;){for(var u=r[a],c=r[a+1],l=n=0;l<u.length&&!o;)if(o=u[l++].exec(e))for(t=0;t<c.length;t++)s=o[++n],"object"==typeof(i=c[t])&&0<i.length?2==i.length?typeof i[1]==f?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3==i.length?typeof i[1]!=f||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):d:this[i[0]]=s?i[1].call(this,s,i[2]):d:4==i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):d):this[i]=s||d;a+=2}},str:function(e,r){for(var n in r)if("object"==typeof r[n]&&0<r[n].length){for(var t=0;t<r[n].length;t++)if(m.has(r[n][t],e))return"?"===n?d:n}else if(m.has(r[n],e))return"?"===n?d:n;return e}},w={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[r,o],[/(opios)[\/\s]+([\w\.]+)/i],[[r,"Opera Mini"],o],[/\s(opr)\/([\w\.]+)/i],[[r,"Opera"],o],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[r,o],[/(konqueror)\/([\w\.]+)/i],[[r,"Konqueror"],o],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[r,"IE"],o],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[r,"Edge"],o],[/(yabrowser)\/([\w\.]+)/i],[[r,"Yandex"],o],[/(Avast)\/([\w\.]+)/i],[[r,"Avast Secure Browser"],o],[/(AVG)\/([\w\.]+)/i],[[r,"AVG Secure Browser"],o],[/(puffin)\/([\w\.]+)/i],[[r,"Puffin"],o],[/(focus)\/([\w\.]+)/i],[[r,"Firefox Focus"],o],[/(opt)\/([\w\.]+)/i],[[r,"Opera Touch"],o],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[r,"UCBrowser"],o],[/(comodo_dragon)\/([\w\.]+)/i],[[r,/_/g," "],o],[/(windowswechat qbcore)\/([\w\.]+)/i],[[r,"WeChat(Win) Desktop"],o],[/(micromessenger)\/([\w\.]+)/i],[[r,"WeChat"],o],[/(brave)\/([\w\.]+)/i],[[r,"Brave"],o],[/(qqbrowserlite)\/([\w\.]+)/i],[r,o],[/(QQ)\/([\d\.]+)/i],[r,o],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[r,o],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[r,o],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[r,o],[/(MetaSr)[\/\s]?([\w\.]+)/i],[r],[/(LBBROWSER)/i],[r],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[o,[r,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[o,[r,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[r,o],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[o,[r,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[r,/(.+)/,"$1 WebView"],o],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[r,/(.+(?:g|us))(.+)/,"$1 $2"],o],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[o,[r,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[r,"Sailfish Browser"],o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[r,o],[/(dolfin)\/([\w\.]+)/i],[[r,"Dolphin"],o],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[r,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[r,"Chrome"],o],[/(coast)\/([\w\.]+)/i],[[r,"Opera Coast"],o],[/fxios\/([\w\.-]+)/i],[o,[r,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[o,[r,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[o,r],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[r,"GSA"],o],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[r,[o,h.str,w.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[r,o],[/(navigator|netscape)\/([\w\.-]+)/i],[[r,"Netscape"],o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[r,o]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,m.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[s,/ower/,"",m.lowerize]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[s,m.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[e,t,[n,c]],[/applecoremedia\/[\w\.]+ \((ipad)/],[e,[t,"Apple"],[n,c]],[/(apple\s{0,1}tv)/i],[[e,"Apple TV"],[t,"Apple"],[n,l]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[t,e,[n,c]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[e,[t,"Amazon"],[n,c]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[e,h.str,w.device.amazon.model],[t,"Amazon"],[n,u]],[/android.+aft([bms])\sbuild/i],[e,[t,"Amazon"],[n,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[e,t,[n,u]],[/\((ip[honed|\s\w*]+);/i],[e,[t,"Apple"],[n,u]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[t,e,[n,u]],[/\(bb10;\s(\w+)/i],[e,[t,"BlackBerry"],[n,u]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[e,[t,"Asus"],[n,c]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[t,"Sony"],[e,"Xperia Tablet"],[n,c]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[t,"Sony"],[n,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[t,e,[n,a]],[/android.+;\s(shield)\sbuild/i],[e,[t,"Nvidia"],[n,a]],[/(playstation\s[34portablevi]+)/i],[e,[t,"Sony"],[n,a]],[/(sprint\s(\w+))/i],[[t,h.str,w.device.sprint.vendor],[e,h.str,w.device.sprint.model],[n,u]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[t,[e,/_/g," "],[n,u]],[/(nexus\s9)/i],[e,[t,"HTC"],[n,c]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[e,[t,"Huawei"],[n,u]],[/android.+(bah2?-a?[lw]\d{2})/i],[e,[t,"Huawei"],[n,c]],[/(microsoft);\s(lumia[\s\w]+)/i],[t,e,[n,u]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[e,[t,"Microsoft"],[n,a]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[t,"Microsoft"],[n,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[e,[t,"Motorola"],[n,u]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e,[t,"Motorola"],[n,c]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[t,m.trim],[e,m.trim],[n,l]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[t,"Samsung"],[n,l]],[/\(dtv[\);].+(aquos)/i],[e,[t,"Sharp"],[n,l]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[t,"Samsung"],e,[n,c]],[/smart-tv.+(samsung)/i],[t,[n,l],e],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[t,"Samsung"],e,[n,u]],[/sie-(\w*)/i],[e,[t,"Siemens"],[n,u]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[t,"Nokia"],e,[n,u]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[e,[t,"Acer"],[n,c]],[/android.+([vl]k\-?\d{3})\s+build/i],[e,[t,"LG"],[n,c]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[t,"LG"],e,[n,c]],[/(lg) netcast\.tv/i],[t,e,[n,l]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[e,[t,"LG"],[n,u]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[t,e,[n,c]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[e,[t,"Lenovo"],[n,c]],[/(lenovo)[_\s-]?([\w-]+)/i],[t,e,[n,u]],[/linux;.+((jolla));/i],[t,e,[n,u]],[/((pebble))app\/[\d\.]+\s/i],[t,e,[n,p]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[t,e,[n,u]],[/crkey/i],[[e,"Chromecast"],[t,"Google"],[n,l]],[/android.+;\s(glass)\s\d/i],[e,[t,"Google"],[n,p]],[/android.+;\s(pixel c)[\s)]/i],[e,[t,"Google"],[n,c]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[e,[t,"Google"],[n,u]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[e,/_/g," "],[t,"Xiaomi"],[n,u]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[e,/_/g," "],[t,"Xiaomi"],[n,c]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[e,[t,"Meizu"],[n,u]],[/(mz)-([\w-]{2,})/i],[[t,"Meizu"],e,[n,u]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[e,[t,"OnePlus"],[n,u]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[e,[t,"RCA"],[n,c]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[e,[t,"Dell"],[n,c]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[e,[t,"Verizon"],[n,c]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[t,"Barnes & Noble"],e,[n,c]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[e,[t,"NuVision"],[n,c]],[/android.+;\s(k88)\sbuild/i],[e,[t,"ZTE"],[n,c]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[e,[t,"Swiss"],[n,u]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[e,[t,"Swiss"],[n,c]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[e,[t,"Zeki"],[n,c]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[t,"Dragon Touch"],e,[n,c]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[e,[t,"Insignia"],[n,c]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[e,[t,"NextBook"],[n,c]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[t,"Voice"],e,[n,u]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[t,"LvTel"],e,[n,u]],[/android.+;\s(PH-1)\s/i],[e,[t,"Essential"],[n,u]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[e,[t,"Envizen"],[n,c]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[t,e,[n,c]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[e,[t,"MachSpeed"],[n,c]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[t,e,[n,c]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[e,[t,"Rotor"],[n,c]],[/android.+(KS(.+))\s+build/i],[e,[t,"Amazon"],[n,c]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[t,e,[n,c]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[n,m.lowerize],t,e],[/[\s\/\(](smart-?tv)[;\)]/i],[[n,l]],[/(android[\w\.\s\-]{0,9});.+build/i],[e,[t,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[o,[r,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[o,[r,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[r,o],[/rv\:([\w\.]{1,9}).+(gecko)/i],[o,r]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[r,o],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[r,[o,h.str,w.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[r,"Windows"],[o,h.str,w.os.windows.version]],[/\((bb)(10);/i],[[r,"BlackBerry"],o],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[r,o],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[r,"Symbian"],o],[/\((series40);/i],[r],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[r,"Firefox OS"],o],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[r,o],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[r,"Chromium OS"],o],[/(sunos)\s?([\w\.\d]*)/i],[[r,"Solaris"],o],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[r,o],[/(haiku)\s(\w+)/i],[r,o],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[o,/_/g,"."],[r,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[r,"Mac OS"],[o,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[r,o]]},g=function(e,r){if("object"==typeof e&&(r=e,e=d),!(this instanceof g))return new g(e,r).getResult();var n=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),t=r?m.extend(v,r):v;return this.getBrowser=function(){var e={name:d,version:d};return h.rgx.call(e,n,t.browser),e.major=m.major(e.version),e},this.getCPU=function(){var e={architecture:d};return h.rgx.call(e,n,t.cpu),e},this.getDevice=function(){var e={vendor:d,model:d,type:d};return h.rgx.call(e,n,t.device),e},this.getEngine=function(){var e={name:d,version:d};return h.rgx.call(e,n,t.engine),e},this.getOS=function(){var e={name:d,version:d};return h.rgx.call(e,n,t.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};g.VERSION="0.7.21",g.BROWSER={NAME:r,MAJOR:"major",VERSION:o},g.CPU={ARCHITECTURE:s},g.DEVICE={MODEL:e,VENDOR:t,TYPE:n,CONSOLE:a,MOBILE:u,SMARTTV:l,TABLET:c,WEARABLE:p,EMBEDDED:"embedded"},g.ENGINE={NAME:r,VERSION:o},g.OS={NAME:r,VERSION:o},E.exports&&(x=E.exports=g),x.UAParser=g;var b,y=i&&(i.jQuery||i.Zepto);y&&!y.ua&&(b=new g,y.ua=b.getResult(),y.ua.get=function(){return b.getUA()},y.ua.set=function(e){b.setUA(e);var r=b.getResult();for(var n in r)y.ua[n]=r[n]})}("object"==typeof window?window:r)}),a=t(function(e,r){e.exports=function(){function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function e(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],s=["args"],a=["evalOrigin"],u=r.concat(i,o,s,a);function d(e){if(!e)return;for(var r=0;r<u.length;r++){if(e[u[r]]!==undefined){this["set"+t(u[r])](e[u[r]])}}}d.prototype={getArgs:function(){return this.args},setArgs:function(e){if(Object.prototype.toString.call(e)!=="[object Array]"){throw new TypeError("Args must be an Array")}this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof d){this.evalOrigin=e}else if(e instanceof Object){this.evalOrigin=new d(e)}else{throw new TypeError("Eval Origin must be an Object or StackFrame")}},toString:function(){var e=this.getFileName()||"";var r=this.getLineNumber()||"";var n=this.getColumnNumber()||"";var t=this.getFunctionName()||"";if(this.getIsEval()){if(e){return"[eval] ("+e+":"+r+":"+n+")"}return"[eval]:"+r+":"+n}if(t){return t+" ("+e+":"+r+":"+n+")"}return e+":"+r+":"+n}},d.fromString=function e(r){var n=r.indexOf("(");var t=r.lastIndexOf(")");var i=r.substring(0,n);var o=r.substring(n+1,t).split(",");var s=r.substring(t+1);if(s.indexOf("@")===0){var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s,"");var u=a[1];var c=a[2];var l=a[3]}return new d({functionName:i,args:o||undefined,fileName:u,lineNumber:c||undefined,columnNumber:l||undefined})};for(var c=0;c<r.length;c++){d.prototype["get"+t(r[c])]=e(r[c]);d.prototype["set"+t(r[c])]=function(r){return function(e){this[r]=Boolean(e)}}(r[c])}for(var l=0;l<i.length;l++){d.prototype["get"+t(i[l])]=e(i[l]);d.prototype["set"+t(i[l])]=function(r){return function(e){if(!n(e)){throw new TypeError(r+" must be a Number")}this[r]=Number(e)}}(i[l])}for(var f=0;f<o.length;f++){d.prototype["get"+t(o[f])]=e(o[f]);d.prototype["set"+t(o[f])]=function(r){return function(e){this[r]=String(e)}}(o[f])}return d}()}),u=t(function(e,r){e.exports=function(u){var t=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,o=/^(eval@)?(\[native code])?$/;return{parse:function e(r){if(typeof r.stacktrace!=="undefined"||typeof r["opera#sourceloc"]!=="undefined"){return this.parseOpera(r)}else if(r.stack&&r.stack.match(i)){return this.parseV8OrIE(r)}else if(r.stack){return this.parseFFOrSafari(r)}else{throw new Error("Cannot parse given Error object")}},extractLocation:function e(r){if(r.indexOf(":")===-1){return[r]}var n=/(.+?)(?::(\d+))?(?::(\d+))?$/;var t=n.exec(r.replace(/[()]/g,""));return[t[1],t[2]||undefined,t[3]||undefined]},parseV8OrIE:function e(r){var n=r.stack.split("\n").filter(function(e){return!!e.match(i)},this);return n.map(function(e){if(e.indexOf("(eval ")>-1){e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,"")}var r=e.replace(/^\s+/,"").replace(/\(eval code/g,"(");var n=r.match(/ (\((.+):(\d+):(\d+)\)$)/);r=n?r.replace(n[0],""):r;var t=r.split(/\s+/).slice(1);var i=this.extractLocation(n?n[1]:t.pop());var o=t.join(" ")||undefined;var s=["eval","<anonymous>"].indexOf(i[0])>-1?undefined:i[0];return new u({functionName:o,fileName:s,lineNumber:i[1],columnNumber:i[2],source:e})},this)},parseFFOrSafari:function e(r){var n=r.stack.split("\n").filter(function(e){return!e.match(o)},this);return n.map(function(e){if(e.indexOf(" > eval")>-1){e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")}if(e.indexOf("@")===-1&&e.indexOf(":")===-1){return new u({functionName:e})}else{var r=/((.*".+"[^@]*)?[^@]*)(?:@)/;var n=e.match(r);var t=n&&n[1]?n[1]:undefined;var i=this.extractLocation(e.replace(r,""));return new u({functionName:t,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}},this)},parseOpera:function e(r){if(!r.stacktrace||r.message.indexOf("\n")>-1&&r.message.split("\n").length>r.stacktrace.split("\n").length){return this.parseOpera9(r)}else if(!r.stack){return this.parseOpera10(r)}else{return this.parseOpera11(r)}},parseOpera9:function e(r){var n=/Line (\d+).*script (?:in )?(\S+)/i;var t=r.message.split("\n");var i=[];for(var o=2,s=t.length;o<s;o+=2){var a=n.exec(t[o]);if(a){i.push(new u({fileName:a[2],lineNumber:a[1],source:t[o]}))}}return i},parseOpera10:function e(r){var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var t=r.stacktrace.split("\n");var i=[];for(var o=0,s=t.length;o<s;o+=2){var a=n.exec(t[o]);if(a){i.push(new u({functionName:a[3]||undefined,fileName:a[2],lineNumber:a[1],source:t[o]}))}}return i},parseOpera11:function e(r){var n=r.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this);return n.map(function(e){var r=e.split("@");var n=this.extractLocation(r.pop());var t=r.shift()||"";var i=t.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||undefined;var o;if(t.match(/\(([^)]*)\)/)){o=t.replace(/^[^(]+\(([^)]*)\)$/,"$1")}var s=o===undefined||o==="[arguments not available]"?undefined:o.split(",");return new u({functionName:i,args:s,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e})},this)}}}(a)});function d(e,r,n,t){var i=r;t&&(i=t+"_"+i),n&&null!=n[r]&&(e[i]=n[r])}(i=l=l||{}).Exception="exception",i.Resource="resource",i.Report="report",(s=o=o||{}).Script="script",s.Style="style";function f(r){var n;if(r.message)n=r.message;else try{n=JSON.stringify(r)}catch(e){n=""+r}return function(e){var r,n=0;if(0===e.length)return""+n;for(r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return""+n}(n=n.trim())}function m(i){return e(this,void 0,void 0,function(){var r,n,t;return c(this,function(e){switch(e.label){case 0:if("string"==typeof i&&(i=i.trim()),!window.crypto)return[3,6];e.label=1;case 1:return e.trys.push([1,3,,5]),r=JSON.stringify(i),n=(new TextEncoder).encode(r),[4,window.crypto.subtle.digest("SHA-1",n)];case 2:return t=e.sent(),[2,Array.from(new Uint8Array(t)).map(function(e){return e.toString(16).padStart(2,"0")}).join("")];case 3:return e.sent(),[4,f(i)];case 4:return[2,e.sent()];case 5:return[3,8];case 6:return[4,f(i)];case 7:return[2,e.sent()];case 8:return[2]}})})}function h(e){return"object"==typeof e?null!==e:"function"==typeof e}function w(e){if(!h(e))throw TypeError(e+" is not an object!");return e}function g(e){try{return!!e()}catch(e){return!0}}function b(e){return S?k.createElement(e):{}}function x(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}function y(e,r){return M.call(e,r)}function E(e){return"Symbol(".concat(void 0===e?"":e,")_",(++I+L).toString(36))}function T(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}function N(t,i,e){if(T(t),void 0===i)return t;switch(e){case 1:return function(e){return t.call(i,e)};case 2:return function(e,r){return t.call(i,e,r)};case 3:return function(e,r,n){return t.call(i,e,r,n)}}return function(){return t.apply(i,arguments)}}var O=t(function(e){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)}),A=t(function(e){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)}),_=!g(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),k=O.document,S=h(k)&&h(k.createElement),C=!_&&!g(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a}),P=Object.defineProperty,j={f:_?Object.defineProperty:function(e,r,n){if(w(e),r=function(e,r){if(!h(e))return e;var n,t;if(r&&"function"==typeof(n=e.toString)&&!h(t=n.call(e)))return t;if("function"==typeof(n=e.valueOf)&&!h(t=n.call(e)))return t;if(!r&&"function"==typeof(n=e.toString)&&!h(t=n.call(e)))return t;throw TypeError("Can't convert object to primitive value")}(r,!0),w(n),C)try{return P(e,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[r]=n.value),e}},R=_?function(e,r,n){return j.f(e,r,x(1,n))}:function(e,r,n){return e[r]=n,e},M={}.hasOwnProperty,I=0,L=Math.random(),F=t(function(e){var r="__core-js_shared__",n=O[r]||(O[r]={});(e.exports=function(e,r){return n[e]||(n[e]=void 0!==r?r:{})})("versions",[]).push({version:A.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),D=F("native-function-to-string",Function.toString),B=t(function(e){var o=E("src"),r="toString",s=(""+D).split(r);A.inspectSource=function(e){return D.call(e)},(e.exports=function(e,r,n,t){var i="function"==typeof n;i&&(y(n,"name")||R(n,"name",r)),e[r]!==n&&(i&&(y(n,o)||R(n,o,e[r]?""+e[r]:s.join(String(r)))),e===O?e[r]=n:t?e[r]?e[r]=n:R(e,r,n):(delete e[r],R(e,r,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[o]||D.call(this)})}),z="prototype",V=function(e,r,n){var t,i,o,s,a=e&V.F,u=e&V.G,c=e&V.S,l=e&V.P,d=e&V.B,f=u?O:c?O[r]||(O[r]={}):(O[r]||{})[z],p=u?A:A[r]||(A[r]={}),m=p[z]||(p[z]={});for(t in u&&(n=r),n)o=((i=!a&&f&&void 0!==f[t])?f:n)[t],s=d&&i?N(o,O):l&&"function"==typeof o?N(Function.call,o):o,f&&B(f,t,o,e&V.U),p[t]!=o&&R(p,t,s),l&&m[t]!=o&&(m[t]=o)};O.core=A,V.F=1,V.G=2,V.S=4,V.P=8,V.B=16,V.W=32,V.U=64,V.R=128;function U(e){return ie.call(e).slice(8,-1)}function X(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}function q(e){return Object(X(e))}function G(e){return isNaN(e=+e)?0:(0<e?ae:se)(e)}function J(e){return 0<e?ue(G(e),9007199254740991):0}function $(e,r){return!!e&&g(function(){r?e.call(null,function(){},1):e.call(null)})}var H,W,Q,K,Z,Y,ee,re,ne,te=V,ie={}.toString,oe=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==U(e)?e.split(""):Object(e)},se=Math.ceil,ae=Math.floor,ue=Math.min,ce=Array.isArray||function(e){return"Array"==U(e)},le=t(function(e){var r=F("wks"),n=O.Symbol,t="function"==typeof n;(e.exports=function(e){return r[e]||(r[e]=t&&n[e]||(t?n:E)("Symbol."+e))}).store=r}),de=le("species"),fe=(Q=1==(H=0),K=2==H,Z=3==H,Y=4==H,ee=6==H,re=5==H||ee,ne=W||function(e,r){return ce(n=e)&&("function"!=typeof(t=n.constructor)||t!==Array&&!ce(t.prototype)||(t=void 0),h(t)&&null===(t=t[de])&&(t=void 0)),new(void 0===t?Array:t)(r);var n,t},function(e,r,n){for(var t,i,o=q(e),s=oe(o),a=N(r,n,3),u=J(s.length),c=0,l=Q?ne(e,u):K?ne(e,0):void 0;c<u;c++)if((re||c in s)&&(i=a(t=s[c],c,o),H))if(Q)l[c]=i;else if(i)switch(H){case 3:return!0;case 5:return t;case 6:return c;case 2:l.push(t)}else if(Y)return!1;return ee?-1:Z||Y?Y:l}),pe=$([].forEach,!0);te(te.P+te.F*!pe,"Array",{forEach:function(e,r){return fe(this,e,r)}});A.Array.forEach;te(te.P+te.F*!$([].reduce,!0),"Array",{reduce:function(e,r){return function(e,r,n,t,i){T(r);var o=q(e),s=oe(o),a=J(o.length),u=i?a-1:0,c=i?-1:1;if(n<2)for(;;){if(u in s){t=s[u],u+=c;break}if(u+=c,i?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;i?0<=u:u<a;u+=c)u in s&&(t=r(t,s[u],u,o));return t}(this,e,arguments.length,r,!1)}});A.Array.reduce;function me(e){return oe(X(e))}function he(e){return xe[e]||(xe[e]=E(e))}function we(){}function ve(e,r,n){e&&!y(e=n?e:e.prototype,Ie)&&Me(e,Ie,{configurable:!0,value:r})}var ge,be={},ye=Math.max,Ee=Math.min,xe=F("keys"),Te=(ge=!1,function(e,r,n){var t,i,o,s=me(e),a=J(s.length),u=(i=a,(t=G(t=n))<0?ye(t+i,0):Ee(t,i));if(ge&&r!=r){for(;u<a;)if((o=s[u++])!=o)return!0}else for(;u<a;u++)if((ge||u in s)&&s[u]===r)return ge||u||0;return!ge&&-1}),Ne=he("IE_PROTO"),Oe="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ae=Object.keys||function(e){return function(e,r){var n,t=me(e),i=0,o=[];for(n in t)n!=Ne&&y(t,n)&&o.push(n);for(;r.length>i;)y(t,n=r[i++])&&(~Te(o,n)||o.push(n));return o}(e,Oe)},_e=_?Object.defineProperties:function(e,r){w(e);for(var n,t=Ae(r),i=t.length,o=0;o<i;)j.f(e,n=t[o++],r[n]);return e},ke=O.document,Se=ke&&ke.documentElement,Ce=he("IE_PROTO"),Pe="prototype",je=function(){var e,r=b("iframe"),n=Oe.length;for(r.style.display="none",Se.appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),je=e.F;n--;)delete je[Pe][Oe[n]];return je()},Re=Object.create||function(e,r){var n;return null!==e?(we[Pe]=w(e),n=new we,we[Pe]=null,n[Ce]=e):n=je(),void 0===r?n:_e(n,r)},Me=j.f,Ie=le("toStringTag"),Le={};R(Le,le("iterator"),function(){return this});function Fe(){return this}var De,Be=he("IE_PROTO"),ze=Object.prototype,Ve=Object.getPrototypeOf||function(e){return e=q(e),y(e,Be)?e[Be]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ze:null},Ue=le("iterator"),Xe=!([].keys&&"next"in[].keys()),qe="values",Ge=(De=!0,function(e,r){var n,t,i=String(X(e)),o=G(r),s=i.length;return o<0||s<=o?De?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===s||(t=i.charCodeAt(o+1))<56320||57343<t?De?i.charAt(o):n:De?i.slice(o,o+2):t-56320+(n-55296<<10)+65536});!function(e,r,n,t,i,o,s){var a,u,c;u=r,c=t,(a=n).prototype=Re(Le,{next:x(1,c)}),ve(a,u+" Iterator");function l(e){if(!Xe&&e in v)return v[e];switch(e){case"keys":case qe:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var d,f,p,m=r+" Iterator",h=i==qe,w=!1,v=e.prototype,g=v[Ue]||v["@@iterator"]||i&&v[i],b=g||l(i),y=i?h?l("entries"):b:void 0,E="Array"==r&&v.entries||g;if(E&&(p=Ve(E.call(new e)))!==Object.prototype&&p.next&&(ve(p,m,!0),"function"!=typeof p[Ue]&&R(p,Ue,Fe)),h&&g&&g.name!==qe&&(w=!0,b=function(){return g.call(this)}),!Xe&&!w&&v[Ue]||R(v,Ue,b),be[r]=b,be[m]=Fe,i)if(d={values:h?b:l(qe),keys:o?b:l("keys"),entries:y},s)for(f in d)f in v||B(v,f,d[f]);else te(te.P+te.F*(Xe||w),r,d)}(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,r=this._t,n=this._i;return n>=r.length?{value:void 0,done:!0}:(e=Ge(r,n),this._i+=e.length,{value:e,done:!1})});function Je(e,r,n){r in e?j.f(e,r,x(0,n)):e[r]=n}var $e=le("iterator"),He=Array.prototype,We=le("toStringTag"),Qe="Arguments"==U(function(){return arguments}()),Ke=le("iterator"),Ze=A.getIteratorMethod=function(e){if(null!=e)return e[Ke]||e["@@iterator"]||be[void 0===(r=e)?"Undefined":null===r?"Null":"string"==typeof(t=function(e,r){try{return e[r]}catch(e){}}(n=Object(r),We))?t:Qe?U(n):"Object"==(i=U(n))&&"function"==typeof n.callee?"Arguments":i];var r,n,t,i},Ye=le("iterator"),er=!1;try{var rr=[7][Ye]();rr.return=function(){er=!0},Array.from(rr,function(){throw 2})}catch(e){}te(te.S+te.F*!function(e,r){if(!r&&!er)return!1;var n=!1;try{var t=[7],i=t[Ye]();i.next=function(){return{done:n=!0}},t[Ye]=function(){return i},e(t)}catch(e){}return n}(function(e){Array.from(e)}),"Array",{from:function(e,r,n){var t,i,o,s,a,u=q(e),c="function"==typeof this?this:Array,l=arguments.length,d=1<l?r:void 0,f=void 0!==d,p=0,m=Ze(u);if(f&&(d=N(d,2<l?n:void 0,2)),null!=m&&(c!=Array||(void 0===(a=m)||be.Array!==a&&He[$e]!==a)))for(s=m.call(u),i=new c;!(o=s.next()).done;p++)Je(i,p,f?function(r,e,n,t){try{return t?e(w(n)[0],n[1]):e(n)}catch(e){var i=r.return;throw void 0!==i&&w(i.call(r)),e}}(s,d,[o.value,p],!0):o.value);else for(i=new c(t=J(u.length));p<t;p++)Je(i,p,f?d(u[p],p):u[p]);return i.length=p,i}});A.Array.from;var nr,tr,ir,or={develop:"jslog-dev.coupang.com",production:"jslog.coupang.com"},sr=(ar.prototype.enableTrap=function(){this.trapJSError(),this.trapResError()},ar.prototype.report=function(e,r){return e instanceof Error?this.handleJSError(e):this.uploadLog(l.Report,e,{payload:r})},ar.prototype.addFilterRules=function(e){this.filterRules=(this.filterRules||[]).concat(e)},ar.prototype.trapJSError=function(){var o=this,s=window.onerror;window.onerror=function(e,r,n,t,i){return s instanceof Function&&s(e,r,n,t,i),i?o.handleJSError(i):o.handleJSError({message:e,filename:r,lineno:n,colno:t}),"production"===o.phase},window.addEventListener("unhandledrejection",function(e){e.stopImmediatePropagation(),"production"===o.phase&&e.preventDefault(),e.reason instanceof Error?o.handleJSError(e.reason):o.handleJSError({message:e.reason})})},ar.prototype.trapResError=function(){var n=this;window.addEventListener("error",function(e){var r=e.target||e.srcElement;r instanceof HTMLScriptElement?n.handleResError(o.Script,r.src):r instanceof HTMLLinkElement&&"stylesheet"===r.rel&&n.handleResError(o.Style,r.href)},!0)},ar.prototype.getTraceId=function(n){return e(this,void 0,void 0,function(){var r;return c(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,m(u.parse(n))];case 1:return r=e.sent(),[3,4];case 2:return e.sent(),[4,m(n.message)];case 3:return r="msg-"+(r=e.sent()),[3,4];case 4:return[2,r]}})})},ar.prototype.handleJSError=function(u){return e(this,void 0,void 0,function(){var r,n,t,i,o,s,a;return c(this,function(e){switch(e.label){case 0:return u instanceof Error?[4,this.getTraceId(u)]:[3,2];case 1:return n=e.sent(),[2,this.uploadLog(l.Exception,u.message,{exception:{stack:u.stack,trace:n}},r)];case 2:return(r=[{columnNumber:u.colno,fileName:u.filename,functionName:"DummyError",lineNumber:u.lineno}],u.filename)?(i={},o={stack:u.filename+":"+u.lineno+":"+u.colno},[4,m(r)]):[3,4];case 3:return i.exception=(o.trace=e.sent(),o),t=i,[3,6];case 4:return s={},a={},[4,this.getTraceId(u)];case 5:s.exception=(a.trace=e.sent(),a),t=s,e.label=6;case 6:return[2,this.uploadLog(l.Exception,u.message,t,r)]}})})},ar.prototype.handleResError=function(e,r){if(r)return this.uploadLog(l.Resource,"Resource Error",{resource:{type:e,url:r}})},ar.prototype.cleanTimer=function(e){var r;null!==(r=this.EXCEPTION_TRACE_MAP[e])&&void 0!==r&&r.timerId&&(clearTimeout(this.EXCEPTION_TRACE_MAP[e].timerId),this.EXCEPTION_TRACE_MAP[e].timerId=null)},ar.prototype.assembleHugeAmountError=function(n,t){var i=this;if(n){var e=this.EXCEPTION_TRACE_MAP[n];if(e){var r=e.amount,o=e.startTimeMillis,s=(new Date).getTime();if(s-o<1e3){if(this.EXCEPTION_TRACE_MAP[n].amount=r+1,this.EXCEPTION_TRACE_MAP[n].send=!1,this.EXCEPTION_TRACE_MAP[n].timerId)return 0;var a=this;return this.EXCEPTION_TRACE_MAP[n].timerId=setTimeout(function(){var e=i.EXCEPTION_TRACE_MAP[n],r=e.amount;e.send?a.cleanTimer(n):(a.EXCEPTION_TRACE_MAP[n].send=!0,a.cleanTimer(n),t(r))},3e3),this.EXCEPTION_TRACE_MAP[n].timerId}return this.EXCEPTION_TRACE_MAP[n].startTimeMillis=s,this.EXCEPTION_TRACE_MAP[n].amount=1,this.cleanTimer(n),t(r),r}return this.EXCEPTION_TRACE_MAP[n]={amount:1,send:!1,startTimeMillis:(new Date).getTime()},t(),1}return-1},ar.prototype.sendLog=function(e,r,n,t,i,o,s){var a,u,c,l,d,f,p,m,h,w,v,g=window.CoupangWebLog;try{g&&"function"==typeof g.submit&&(c=void 0===(u=(a=i?i[0]:{}).columnNumber)?void 0:u,d=void 0===(l=a.lineNumber)?void 0:l,p=void 0===(f=a.fileName)?void 0:f,h=void 0===(m=a.functionName)?void 0:m,w=this.projectName[r],v=this.assembleLJLogData({applicationId:w,pageName:this.extend.pageName||w,form:e,resource:n,columnNumber:c,lineNumber:d,exception:t,type:r,commonFields:o,fileName:p,functionName:h,amount:s}),g.submit({meta:{schemaId:4345,schemaVersion:4},data:v}))}catch(e){}},ar.prototype.uploadLog=function(r,e,n,t){var i=this;void 0===n&&(n={});var o,s,a,u,c,l,d=this.getCommonFields(this.extend),f=this.encodeForm(p(p({type:r,message:e,extend:this.extend},d),n));"undefined"!==f.project_name?(o=n.exception,s=void 0===o?{}:o,a=n.resource,u=void 0===a?{}:a,l=function(e){void 0===e&&(e=1),i.buildBody(f)&&i.sendLog(f,r,u,s,t,d,e)},(c=s&&s.trace)?this.assembleHugeAmountError(c,l):l()):console.error("JsLog constructor params <projectName> need config for type: "+r)},ar.prototype.getWebPlatformType=function(e,r){var n=!!r.app;return"mobile"===e?n?"webview":"mweb":"pc"},ar.prototype.assembleLJLogData=function(e){var r=e.applicationId,n=e.form,t=e.resource,i=e.columnNumber,o=e.lineNumber,s=e.exception,a=e.type,u=e.commonFields,c=e.fileName,l=e.functionName,d=e.amount,f="",p="",m="",h="";try{var w=new v.UAParser(n.source_ua),f=w.getOS().name+" "+w.getOS().version,p=w.getDevice().model,m=w.getDevice().vendor,h=w.getDevice().type}catch(e){null!==console&&void 0!==console&&console.log(e)}return{logCategory:"system",logType:"error",domain:this.extend.domain||r,eventName:a,pageName:this.extend.pageName||r,applicationId:r,browserMajor:n.browser_major,browserName:n.browser_name,browserVersion:n.browser_version,deviceName:n.device_name||p,deviceVendor:n.device_vendor||m,uaDeviceType:n.device_type||h,webPlatformType:this.getWebPlatformType(n.device_type||h,u),networkType:n.device_network,browserEngineName:n.engine_name,browserEngineVersion:n.engine_version,stackTrace:n.exception_stack,exceptionTrack:null==s?void 0:s.trace,fileColumn:""+i,fileLine:""+o,fileName:c,functionName:l,sourceDomain:n.source_domain,sourcePath:n.source_path,sourceUserAgent:n.source_ua,sourceUrl:n.source_url,osType:this.extend.osType||f,message:n.message,resourceType:t.type,resourceUrl:t.url,errorCount:d}},ar.prototype.buildBody=function(e){if(this.filterRules)for(var r=0;r<this.filterRules.length;r++){var n=this.filterRules[r],t=n.match,i=n.filtered,o=n.add;for(var s in t){var a=t[s],u=e[s];if(a instanceof RegExp&&a.test(u)||a===u){if(i)return!1;if(o)for(var c in o)e[c]=o[c]}}}return!0},ar.prototype.encodeForm=function(t){var i={project_name:encodeURIComponent(this.projectName[t.type])};return["encoder","message","time","type"].forEach(function(e){d(i,e,t)}),["session","browser","engine","os","device","source","exception","resource","payload","extend"].forEach(function(e){var r=t[e];if(r)for(var n in r)d(i,n,r,e)}),i},ar.prototype.getCommonFields=function(e){void 0===e&&(e={});var r=document.cookie.split(";").reduce(function(r,e){var n=e.split("=");try{r[n[0].trim()]=decodeURIComponent(n[1])}catch(e){r[n[0].trim()]=n[1]}return r},{}),n=p({encoder:"jserror",time:Date.now()},e);n.session={pcid:r.PCID,memberSrl:r.member_srl},n.source={ua:navigator.userAgent,url:location.href,domain:location.host,path:location.pathname};var t,i=r["coupang-app"];return i&&(t=decodeURIComponent(i).split("|"),n.os={name:t[1],version:t[2]},n.device={uuid:t[6],name:t[8],network:t[16]},n.app={version:t[3]}),n},ar);function ar(e,r,n){if(void 0===r&&(r="production"),this.EXCEPTION_TRACE_MAP={},this.projectName="string"==typeof e?{exception:e,resource:e,report:e}:e,this.phase="develop",this.extend=n,!this.extend.pageName||!this.extend.domain)throw new Error("Js Error constructor requires parameters: lack of pageName or domain setting on third parameter");this.phase=r in or?r:"production"}function ur(){this.constructor=tr}function cr(){return null!==nr&&nr.apply(this,arguments)||this}return n(tr=cr,ir=nr=sr),tr.prototype=null===ir?Object.create(ir):(ur.prototype=ir.prototype,new ur),cr.prototype.getCommonFields=function(e){var r=e||navigator.userAgent,n=new v.UAParser(r),t={browser:n.getBrowser(),engine:n.getEngine(),os:n.getOS(),device:{name:n.getDevice().model,vendor:n.getDevice().vendor,type:n.getDevice().type}};return nr.prototype.getCommonFields.call(this,t)},cr});
