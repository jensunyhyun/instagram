define(["jquery","common/utils/validationUtils","common/reporter/queryStringAppender"],function($,validator,appender){var info={dataKey:"replaced",gaClick:"gaclick",eventCategory:"eventCategory",eventLabel:"eventLabel"};var gaToWiseLogMaker={startEvent:function(){var _this=this;$(document).on("mouseenter mousedown focus","[data-"+info.gaClick+"]",function(){var $target=$(this);if(appender.isAlreadyReplaced($target,info.dataKey)===false){_this.setTargetHref($target);appender.insertReplacedFlag($target,
info.dataKey)}})},setTargetHref:function($target){var href=$target.attr("href");if(validator.isEmptyByHref(href))return;var wiseLogData=appender.getUrlWithQueryStringDelimiter(href,this.buildGAParameter($target));$target.attr("href",wiseLogData)},buildGAParameter:function($target){var gaClickData=this.getGAClickData($target);if(validator.isEmpty(gaClickData))return"";var eventCategory=this.getGAEventCategoryValue(gaClickData);var eventLabel=this.getGAEventLabelValue(gaClickData);var parameter={};
parameter[info.eventCategory]=eventCategory;parameter[info.eventLabel]=eventLabel;return $.param(parameter)},getGAClickData:function($target){if(validator.isNotEmpty($target)){var gaClickData=$target.data(info.gaClick);if(validator.isNotEmpty(gaClickData))return gaClickData}return""},getGAEventCategoryValue:function(gaClickData){var eventCategory=gaClickData[this.getGAEventCategoryName()];if(validator.isEmpty(eventCategory))return"";return encodeURIComponent(eventCategory)},getGAEventLabelValue:function(gaClickData){var eventLabel=
gaClickData[this.getGAEventLabelName()];if(validator.isEmpty(eventLabel))return"";return encodeURIComponent(eventLabel)},getGAEventLabelName:function(){return info.eventLabel},getGAEventCategoryName:function(){return info.eventCategory}};return gaToWiseLogMaker});