define(["jquery"],function($){var sideTopDownBtn={topMarginSpace:15,scrollToClass:"scrollTo",getDealList:function(){return $("#productList").find("li")},getScrollTo:function(){var scrollTo=sideTopDownBtn.getDealList().filter("."+sideTopDownBtn.scrollToClass);if(scrollTo.length>0)return $(scrollTo.get(0));else return null},findPrevLine:function(scrollTo){var dealList=sideTopDownBtn.getDealList().filter(":visible");var index=dealList.index(scrollTo);var prev=scrollTo;for(var i=index;i>=0;i--){prev=
dealList.eq(i);if(prev.offset().top<scrollTo.offset().top)return prev}return prev},findNextLine:function(scrollTo){var dealList=sideTopDownBtn.getDealList();var index=dealList.index(scrollTo);var next=scrollTo;for(var i=index;i<dealList.length;i++){next=dealList.eq(i);if(scrollTo.css("display")!="none"){if(next.offset().top>scrollTo.offset().top)return next}else scrollTo=next}return next},moveToScrollTo:function(wel){var scrollTo=sideTopDownBtn.getScrollTo();if(!!scrollTo)scrollTo.removeClass(sideTopDownBtn.scrollToClass);
wel.addClass(sideTopDownBtn.scrollToClass);window.scrollTo(0,wel.offset().top-sideTopDownBtn.topMarginSpace)},isPreWork:function(){var currentScroll=sideTopDownBtn.getCurrentScroll().y;var dealList=sideTopDownBtn.getDealList();for(var i=0;i<dealList.length;i++)if($(dealList.get(i)).offset().top<currentScroll)return true;return false},isNextWork:function(){var currentScroll=sideTopDownBtn.getCurrentScroll().y;var dealList=sideTopDownBtn.getDealList();for(var i=0;i<dealList.length;i++)if($(dealList.get(i)).offset().top>
currentScroll)return true;return false},moveByNextScrollPosition:function(){if(!sideTopDownBtn.isNextWork())return;var currentScroll=sideTopDownBtn.getCurrentScroll().y;$.each(sideTopDownBtn.getDealList(),function(i,v){if($(v).offset().top>currentScroll){sideTopDownBtn.moveToScrollTo($(v));return false}})},moveByPrevScrollPosition:function(){if(!sideTopDownBtn.isPreWork())return;var currentScroll=sideTopDownBtn.getCurrentScroll().y;var dealList=sideTopDownBtn.getDealList();$.each(dealList,function(i,
v){if($(v).offset().top>currentScroll){sideTopDownBtn.moveToScrollTo($(dealList.get(i-1)));return false}if(i==dealList.length-1){sideTopDownBtn.moveToScrollTo($(dealList.get(i)));return false}})},moveByNextElement:function(wel){var next=sideTopDownBtn.findNextLine(wel);if(next.length>0)sideTopDownBtn.moveToScrollTo(next)},moveByPrevElement:function(wel){var prev=sideTopDownBtn.findPrevLine(wel);if(prev.length>0)sideTopDownBtn.moveToScrollTo(prev)},getCurrentScroll:function(){var scrOfX=0,scrOfY=0;
if(typeof window.pageYOffset=="number"){scrOfY=window.pageYOffset;scrOfX=window.pageXOffset}else if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){scrOfY=document.body.scrollTop;scrOfX=document.body.scrollLeft}else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){scrOfY=document.documentElement.scrollTop;scrOfX=document.documentElement.scrollLeft}return{x:scrOfX,y:scrOfY}},isInRange:function(a,b){var permittedRange=1;var distance=
Math.abs(a-b);return permittedRange>distance?true:false},isScrollMoved:function(){var scrollTo=sideTopDownBtn.getScrollTo();if(!scrollTo)return true;if(scrollTo.css("display")=="none")return false;return!sideTopDownBtn.isInRange(sideTopDownBtn.getCurrentScroll().y,scrollTo.offset().top-sideTopDownBtn.topMarginSpace)}};return sideTopDownBtn});